name: learn-github-actions
run-name: ${{ github.actor }} is learning GitHub Actions

on:
  push:
    branches: main

jobs:

  move-page-content-to-page-branch:
    runs-on: ubuntu-latest
    steps:

      - name: Checkout Repository
        uses: actions/checkout@v2
        with:
          ref: 'refs/heads/main'


      - name: Checkout Repository
        uses: actions/checkout@v2
        with:
          ref: 'refs/heads/page'

      - name: Set Git User Info
        run: |
          git config user.email "linhieng@qq.com"
          git config user.name "linhieng"

      - name: test
        run: |

          git checkout main -- page
          mv page/* .
          rmdir page
          git add .
          git commit -m "deploy"
          git push origin page

